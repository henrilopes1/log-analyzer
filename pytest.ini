[tool:pytest]
# Configuração do pytest para testes da API Log Analyzer

# Diretórios onde procurar por testes
testpaths = tests

# Padrões de arquivos de teste
python_files = test_*.py *_test.py

# Padrões de classes de teste
python_classes = Test*

# Padrões de funções de teste
python_functions = test_*

# Marcadores customizados
markers =
    slow: marca testes que são lentos para executar
    integration: marca testes de integração com a API
    unit: marca testes unitários
    performance: marca testes de performance

# Opções padrão
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes

# Configuração de timeout (se pytest-timeout estiver instalado)
timeout = 300

# Diretórios a ignorar
norecursedirs = .git .tox dist build *.egg venv

# Configuração para cobertura de código (se pytest-cov estiver instalado)
# addopts = --cov=src/log_analyzer --cov-report=html --cov-report=term-missing

# Configuração para execução paralela (se pytest-xdist estiver instalado)
# addopts = -n auto

[coverage:run]
# Configuração de cobertura de código
source = src/log_analyzer
omit = 
    */tests/*
    */test_*
    */__pycache__/*
    */venv/*
    setup.py

[coverage:report]
# Relatório de cobertura
precision = 2
show_missing = True
skip_covered = False

[coverage:html]
# Relatório HTML de cobertura
directory = htmlcov